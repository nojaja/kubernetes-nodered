{
    "id": "7157de4597b60201",
    "type": "subflow",
    "name": "flow-limit",
    "info": "",
    "category": "Rate Control",
    "in": [
        {
            "x": 60,
            "y": 80,
            "wires": [
                {
                    "id": "b19fa56a77429a44"
                }
            ]
        }
    ],
    "out": [
        {
            "x": 340,
            "y": 40,
            "wires": [
                {
                    "id": "b19fa56a77429a44",
                    "port": 0
                }
            ]
        },
        {
            "x": 340,
            "y": 100,
            "wires": [
                {
                    "id": "b19fa56a77429a44",
                    "port": 1
                }
            ]
        }
    ],
    "env": [],
    "meta": {
        "module": "node-red-job-flow-limit",
        "type": "flow-limit",
        "version": "0.0.1",
        "license": "MIT"
    },
    "color": "#E6E0F8",
    "icon": "node-red/trigger.svg",
    "flow": [
        {
            "id": "b19fa56a77429a44",
            "type": "function",
            "z": "7157de4597b60201",
            "name": "flow-limit",
            "func": "//{topicname:[{name:\"\",status: \"new\"}]}\nconst flowstatus = global.get(\"FLOW_STATUS\") || new Map()\nconst max = global.get(\"FLOW_MAX\") || 1\n\nif (flowstatus.size >= max) return [null, msg]\nreturn [msg, null]\n",
            "outputs": 2,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "libs": [],
            "x": 200,
            "y": 80,
            "wires": [
                [],
                []
            ]
        }
    ]
}